<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: models_diagram Pages: 1 -->
<svg width="805pt" height="399pt"
 viewBox="0.00 0.00 805.38 399.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 395)">
<title>models_diagram</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-395 801.379,-395 801.379,4 -4,4"/>
<!-- _diagram_info -->
<g id="node1" class="node"><title>_diagram_info</title>
<text text-anchor="start" x="217.007" y="-376.6" font-family="Times,serif" font-size="13.00">Models diagram</text>
<text text-anchor="start" x="217.007" y="-363.6" font-family="Times,serif" font-size="13.00">Date: Feb 11 2015 &#45; 10:35</text>
<text text-anchor="start" x="217.007" y="-350.6" font-family="Times,serif" font-size="13.00">Migration version: 20150211034124</text>
<text text-anchor="start" x="217.007" y="-337.6" font-family="Times,serif" font-size="13.00">Generated by RailRoady 1.3.0</text>
<text text-anchor="start" x="217.007" y="-324.6" font-family="Times,serif" font-size="13.00">http://railroady.prestonlee.com</text>
</g>
<!-- Allergy -->
<g id="node2" class="node"><title>Allergy</title>
<ellipse fill="none" stroke="black" cx="470.457" cy="-354.5" rx="36.9308" ry="18"/>
<text text-anchor="middle" x="470.457" y="-350.3" font-family="Times,serif" font-size="14.00">Allergy</text>
</g>
<!-- Foodflag -->
<g id="node5" class="node"><title>Foodflag</title>
<ellipse fill="none" stroke="black" cx="378.457" cy="-190" rx="41.6111" ry="18"/>
<text text-anchor="middle" x="378.457" y="-185.8" font-family="Times,serif" font-size="14.00">Foodflag</text>
</g>
<!-- Allergy&#45;&gt;Foodflag -->
<g id="edge1" class="edge"><title>Allergy&#45;&gt;Foodflag</title>
<path fill="none" stroke="#d90ab4" d="M445.727,-333.377C430.833,-319.999 412.647,-301.221 401.457,-281 390.687,-261.537 384.845,-236.921 381.748,-218.354"/>
<ellipse fill="none" stroke="#d90ab4" cx="448.87" cy="-336.131" rx="4.00002" ry="4.00002"/>
<polygon fill="#d90ab4" stroke="#d90ab4" points="381.71,-218.095 384.676,-207.538 380.967,-213.151 380.225,-208.206 380.225,-208.206 380.225,-208.206 380.967,-213.151 375.775,-208.874 381.71,-218.095 381.71,-218.095"/>
</g>
<!-- Ingredientflag -->
<g id="node6" class="node"><title>Ingredientflag</title>
<ellipse fill="none" stroke="black" cx="470.457" cy="-263" rx="59.927" ry="18"/>
<text text-anchor="middle" x="470.457" y="-258.8" font-family="Times,serif" font-size="14.00">Ingredientflag</text>
</g>
<!-- Allergy&#45;&gt;Ingredientflag -->
<g id="edge2" class="edge"><title>Allergy&#45;&gt;Ingredientflag</title>
<path fill="none" stroke="#1b811c" d="M470.457,-326.21C470.457,-315.106 470.457,-302.301 470.457,-291.206"/>
<polygon fill="#1b811c" stroke="#1b811c" points="470.457,-326.243 465.957,-336.243 470.457,-331.243 470.457,-336.243 470.457,-336.243 470.457,-336.243 470.457,-331.243 474.957,-336.244 470.457,-326.243 470.457,-326.243"/>
<polygon fill="#1b811c" stroke="#1b811c" points="470.457,-291.204 474.957,-281.203 470.457,-286.204 470.457,-281.204 470.457,-281.204 470.457,-281.204 470.457,-286.204 465.957,-281.204 470.457,-291.204 470.457,-291.204"/>
</g>
<!-- User -->
<g id="node11" class="node"><title>User</title>
<ellipse fill="none" stroke="black" cx="611.457" cy="-104" rx="27" ry="18"/>
<text text-anchor="middle" x="611.457" y="-99.8" font-family="Times,serif" font-size="14.00">User</text>
</g>
<!-- Allergy&#45;&gt;User -->
<g id="edge3" class="edge"><title>Allergy&#45;&gt;User</title>
<path fill="none" stroke="#977bb6" d="M497.058,-332.431C560.953,-281.791 717.929,-157.181 719.457,-154 734.161,-123.377 685.053,-111.873 648.277,-107.565"/>
<polygon fill="#977bb6" stroke="#977bb6" points="496.875,-332.576 486.242,-335.259 492.956,-335.681 489.037,-338.786 489.037,-338.786 489.037,-338.786 492.956,-335.681 491.832,-342.313 496.875,-332.576 496.875,-332.576"/>
<polygon fill="#977bb6" stroke="#977bb6" points="648.242,-107.561 638.759,-102.054 643.268,-107.046 638.295,-106.53 638.295,-106.53 638.295,-106.53 643.268,-107.046 637.831,-111.006 648.242,-107.561 648.242,-107.561"/>
</g>
<!-- AverageCache -->
<g id="node3" class="node"><title>AverageCache</title>
<ellipse fill="none" stroke="black" cx="586.457" cy="-354.5" rx="61.5017" ry="18"/>
<text text-anchor="middle" x="586.457" y="-350.3" font-family="Times,serif" font-size="14.00">AverageCache</text>
</g>
<!-- Comment -->
<g id="node4" class="node"><title>Comment</title>
<ellipse fill="none" stroke="black" cx="706.457" cy="-18" rx="44.9768" ry="18"/>
<text text-anchor="middle" x="706.457" y="-13.8" font-family="Times,serif" font-size="14.00">Comment</text>
</g>
<!-- Ingredientflag&#45;&gt;Foodflag -->
<g id="edge4" class="edge"><title>Ingredientflag&#45;&gt;Foodflag</title>
<path fill="none" stroke="#ef2c92" d="M443.149,-240.926C431.471,-231.913 417.855,-221.405 406.136,-212.361"/>
<ellipse fill="none" stroke="#ef2c92" cx="446.414" cy="-243.445" rx="4.00002" ry="4.00002"/>
<polygon fill="#ef2c92" stroke="#ef2c92" points="405.909,-212.186 400.742,-202.514 401.951,-209.131 397.992,-206.076 397.992,-206.076 397.992,-206.076 401.951,-209.131 395.243,-209.639 405.909,-212.186 405.909,-212.186"/>
</g>
<!-- Recipe -->
<g id="node10" class="node"><title>Recipe</title>
<ellipse fill="none" stroke="black" cx="472.457" cy="-190" rx="34.8198" ry="18"/>
<text text-anchor="middle" x="472.457" y="-185.8" font-family="Times,serif" font-size="14.00">Recipe</text>
</g>
<!-- Ingredientflag&#45;&gt;Recipe -->
<g id="edge5" class="edge"><title>Ingredientflag&#45;&gt;Recipe</title>
<path fill="none" stroke="#31ba07" d="M471.224,-234.753C471.379,-229.276 471.541,-223.521 471.695,-218.051"/>
<polygon fill="#31ba07" stroke="#31ba07" points="471.223,-234.817 466.443,-244.686 471.082,-239.815 470.941,-244.813 470.941,-244.813 470.941,-244.813 471.082,-239.815 475.439,-244.94 471.223,-234.817 471.223,-234.817"/>
<polygon fill="#31ba07" stroke="#31ba07" points="471.695,-218.025 476.475,-208.156 471.836,-213.027 471.977,-208.029 471.977,-208.029 471.977,-208.029 471.836,-213.027 467.479,-207.902 471.695,-218.025 471.695,-218.025"/>
</g>
<!-- OverallAverage -->
<g id="node7" class="node"><title>OverallAverage</title>
<ellipse fill="none" stroke="black" cx="731.457" cy="-354.5" rx="65.8452" ry="18"/>
<text text-anchor="middle" x="731.457" y="-350.3" font-family="Times,serif" font-size="14.00">OverallAverage</text>
</g>
<!-- Rate -->
<g id="node8" class="node"><title>Rate</title>
<ellipse fill="none" stroke="black" cx="479.457" cy="-18" rx="27" ry="18"/>
<text text-anchor="middle" x="479.457" y="-13.8" font-family="Times,serif" font-size="14.00">Rate</text>
</g>
<!-- RatingCache -->
<g id="node9" class="node"><title>RatingCache</title>
<ellipse fill="none" stroke="black" cx="107.457" cy="-104" rx="55.5682" ry="18"/>
<text text-anchor="middle" x="107.457" y="-99.8" font-family="Times,serif" font-size="14.00">RatingCache</text>
</g>
<!-- Recipe&#45;&gt;Comment -->
<g id="edge6" class="edge"><title>Recipe&#45;&gt;Comment</title>
<path fill="none" stroke="#20070d" d="M515.634,-189.38C579.282,-188.913 693.572,-183.811 719.457,-154 745.393,-124.13 731.687,-75.3209 719.201,-45.2969"/>
<ellipse fill="none" stroke="#20070d" cx="511.38" cy="-189.398" rx="4" ry="4"/>
<polygon fill="#20070d" stroke="#20070d" points="719.091,-45.0464 719.193,-34.081 717.082,-40.4679 715.073,-35.8894 715.073,-35.8894 715.073,-35.8894 717.082,-40.4679 710.952,-37.6978 719.091,-45.0464 719.091,-45.0464"/>
</g>
<!-- Recipe&#45;&gt;Rate -->
<g id="edge7" class="edge"><title>Recipe&#45;&gt;Rate</title>
<path fill="none" stroke="#f254eb" d="M438.152,-175.431C393.178,-157.482 319.526,-127.467 315.919,-122 307.108,-108.645 307.004,-99.2863 315.919,-86 343.968,-44.1964 403.24,-28.4562 442.19,-22.5423"/>
<ellipse fill="none" stroke="#f254eb" cx="441.935" cy="-176.938" rx="4.00001" ry="4.00001"/>
<polygon fill="#f254eb" stroke="#f254eb" points="442.687,-22.4746 453.204,-25.5799 447.641,-21.7979 452.595,-21.1213 452.595,-21.1213 452.595,-21.1213 447.641,-21.7979 451.986,-16.6627 442.687,-22.4746 442.687,-22.4746"/>
<text text-anchor="middle" x="387.226" y="-99.8" font-family="Times,serif" font-size="14.00">rates_without_dimension</text>
</g>
<!-- Recipe&#45;&gt;Rate -->
<g id="edge10" class="edge"><title>Recipe&#45;&gt;Rate</title>
<path fill="none" stroke="#1a926f" d="M473.501,-163.347C473.809,-155.823 474.145,-147.582 474.457,-140 475.78,-107.793 477.311,-70.7653 478.327,-46.2417"/>
<ellipse fill="none" stroke="#1a926f" cx="473.321" cy="-167.769" rx="4" ry="4"/>
<polygon fill="#1a926f" stroke="#1a926f" points="478.328,-46.2236 483.238,-36.4185 478.535,-41.2279 478.742,-36.2321 478.742,-36.2321 478.742,-36.2321 478.535,-41.2279 474.246,-36.0458 478.328,-46.2236 478.328,-46.2236"/>
<text text-anchor="middle" x="504.057" y="-99.8" font-family="Times,serif" font-size="14.00">title_rates</text>
</g>
<!-- Recipe&#45;&gt;RatingCache -->
<g id="edge9" class="edge"><title>Recipe&#45;&gt;RatingCache</title>
<path fill="none" stroke="#b6826b" d="M439.641,-174.749C436.248,-173.663 432.814,-172.714 429.457,-172 406.417,-167.102 22.1479,-171.006 5.84944,-154 -12.7017,-134.644 17.6444,-121.977 49.8962,-114.38"/>
<ellipse fill="none" stroke="#b6826b" cx="443.653" cy="-176.16" rx="4.00001" ry="4.00001"/>
<ellipse fill="#b6826b" stroke="#b6826b" cx="54.2034" cy="-113.424" rx="4.00001" ry="4.00001"/>
<text text-anchor="middle" x="99.7606" y="-142.8" font-family="Times,serif" font-size="14.00">rate_average_without_dimension</text>
</g>
<!-- Recipe&#45;&gt;RatingCache -->
<g id="edge12" class="edge"><title>Recipe&#45;&gt;RatingCache</title>
<path fill="none" stroke="#4c0239" d="M439.342,-174.806C436.042,-173.726 432.71,-172.762 429.457,-172 336.401,-150.197 305.947,-183.894 215.167,-154 203.905,-150.291 203.02,-145.386 192.457,-140 179.021,-133.149 163.922,-126.587 150.219,-121.034"/>
<ellipse fill="none" stroke="#4c0239" cx="443.158" cy="-176.159" rx="4.00001" ry="4.00001"/>
<ellipse fill="#4c0239" stroke="#4c0239" cx="146.484" cy="-119.541" rx="4.00001" ry="4.00001"/>
<text text-anchor="middle" x="251.602" y="-142.8" font-family="Times,serif" font-size="14.00">title_average</text>
</g>
<!-- Recipe&#45;&gt;User -->
<g id="edge8" class="edge"><title>Recipe&#45;&gt;User</title>
<path fill="none" stroke="#c423af" d="M485.455,-163.74C490.897,-155.205 497.915,-146.264 506.257,-140 526.454,-124.834 553.585,-116.02 575.236,-111.031"/>
<polygon fill="#c423af" stroke="#c423af" points="485.451,-163.747 476.491,-170.068 482.909,-168.052 480.366,-172.357 480.366,-172.357 480.366,-172.357 482.909,-168.052 484.24,-174.645 485.451,-163.747 485.451,-163.747"/>
<polygon fill="#c423af" stroke="#c423af" points="575.28,-111.021 585.998,-113.339 580.171,-109.98 585.061,-108.938 585.061,-108.938 585.061,-108.938 580.171,-109.98 584.123,-104.537 575.28,-111.021 575.28,-111.021"/>
<text text-anchor="middle" x="578.557" y="-142.8" font-family="Times,serif" font-size="14.00">raters_without_dimension</text>
</g>
<!-- Recipe&#45;&gt;User -->
<g id="edge11" class="edge"><title>Recipe&#45;&gt;User</title>
<path fill="none" stroke="#d4f456" d="M517.068,-186.643C564.701,-183.084 635.62,-174.426 652.457,-154 661.17,-143.429 651.934,-131.654 640.04,-122.296"/>
<polygon fill="#d4f456" stroke="#d4f456" points="516.965,-186.65 506.676,-182.858 511.978,-186.999 506.99,-187.347 506.99,-187.347 506.99,-187.347 511.978,-186.999 507.303,-191.836 516.965,-186.65 516.965,-186.65"/>
<polygon fill="#d4f456" stroke="#d4f456" points="639.707,-122.059 634.183,-112.586 635.638,-119.154 631.568,-116.249 631.568,-116.249 631.568,-116.249 635.638,-119.154 628.954,-119.911 639.707,-122.059 639.707,-122.059"/>
<text text-anchor="middle" x="685.388" y="-142.8" font-family="Times,serif" font-size="14.00">title_raters</text>
</g>
<!-- User&#45;&gt;Comment -->
<g id="edge14" class="edge"><title>User&#45;&gt;Comment</title>
<path fill="none" stroke="#237045" d="M633.492,-83.5163C647.685,-70.9669 666.184,-54.61 681.003,-41.5063"/>
<ellipse fill="none" stroke="#237045" cx="630.141" cy="-86.4795" rx="4.00002" ry="4.00002"/>
<polygon fill="#237045" stroke="#237045" points="681.316,-41.23 691.788,-37.9771 685.062,-37.918 688.807,-34.606 688.807,-34.606 688.807,-34.606 685.062,-37.918 685.826,-31.2348 681.316,-41.23 681.316,-41.23"/>
</g>
<!-- User&#45;&gt;Rate -->
<g id="edge15" class="edge"><title>User&#45;&gt;Rate</title>
<path fill="none" stroke="#02b3cc" d="M585.679,-86.5962C563.028,-72.1819 530.161,-51.2661 506.998,-36.5265"/>
<ellipse fill="none" stroke="#02b3cc" cx="589.17" cy="-88.8173" rx="4.00002" ry="4.00002"/>
<polygon fill="#02b3cc" stroke="#02b3cc" points="506.771,-36.3816 500.75,-27.2163 502.552,-33.6972 498.334,-31.0128 498.334,-31.0128 498.334,-31.0128 502.552,-33.6972 495.918,-34.8093 506.771,-36.3816 506.771,-36.3816"/>
<text text-anchor="middle" x="590.56" y="-56.8" font-family="Times,serif" font-size="14.00">ratings_given</text>
</g>
<!-- User&#45;&gt;Recipe -->
<g id="edge13" class="edge"><title>User&#45;&gt;Recipe</title>
<path fill="none" stroke="#1f8491" d="M578.538,-112.679C544.395,-120.907 495.066,-133.64 488.457,-140 482.381,-145.847 478.611,-154.027 476.271,-162.031"/>
<ellipse fill="none" stroke="#1f8491" cx="582.536" cy="-111.722" rx="4.00001" ry="4.00001"/>
<polygon fill="#1f8491" stroke="#1f8491" points="476.246,-162.14 469.622,-170.879 475.127,-167.014 474.008,-171.887 474.008,-171.887 474.008,-171.887 475.127,-167.014 478.393,-172.894 476.246,-162.14 476.246,-162.14"/>
</g>
</g>
</svg>
